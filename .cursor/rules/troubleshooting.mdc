# æ•…éšœæ’é™¤æŒ‡å—

## æœåŠ¡å™¨å¯åŠ¨é—®é¢˜

### 1. ç«¯å£å ç”¨é”™è¯¯
**ç—‡çŠ¶**: `Address already in use: Port 5000`

**è¯Šæ–­æ­¥éª¤**:
```bash
# Windows
netstat -ano | findstr :5000
tasklist /fi "PID eq [è¿›ç¨‹ID]"

# è§£å†³æ–¹æ¡ˆ
taskkill /F /PID [è¿›ç¨‹ID]
```

**é¢„é˜²æªæ–½**:
- å¯åŠ¨å‰æ£€æŸ¥ç«¯å£çŠ¶æ€
- ä½¿ç”¨ä¸åŒç«¯å£æˆ–æ­£ç¡®å…³é—­ä¹‹å‰çš„æœåŠ¡

### 2. é‡å¤è·¯ç”±å®šä¹‰
**ç—‡çŠ¶**: `AssertionError: View function mapping is overwriting an existing endpoint function`

**è¯Šæ–­**:
```bash
grep -n "@app.route" app.py
# æŸ¥æ‰¾é‡å¤çš„è·¯ç”±å®šä¹‰
```

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ **[app.py](mdc:app.py)** ä¸­æ˜¯å¦æœ‰é‡å¤çš„ `@app.route` è£…é¥°å™¨
- åˆ é™¤é‡å¤çš„ç«¯ç‚¹å®šä¹‰
- ç¡®ä¿æ¯ä¸ªç«¯ç‚¹åªå®šä¹‰ä¸€æ¬¡

### 3. AIæ¨¡å‹åˆå§‹åŒ–å¤±è´¥
**ç—‡çŠ¶**: `âŒ AIæ¨¡å‹åˆå§‹åŒ–å¤±è´¥`

**æ£€æŸ¥æ¸…å•**:
```python
# éªŒè¯é…ç½®
print(config.OPENAI_API_KEY)  # åº”è¯¥ä»¥ "sk-" å¼€å¤´
print(config.OPENAI_API_URL)  # API ç«¯ç‚¹ URL
```

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ **[AgentCore/config.py](mdc:AgentCore/config.py)** ä¸­çš„ API å¯†é’¥
- éªŒè¯ç½‘ç»œè¿æ¥å’Œ API ç«¯ç‚¹å¯è¾¾æ€§
- ç¡®è®¤ OpenAI API é…é¢å’Œæƒé™

## API ç«¯ç‚¹é—®é¢˜

### 1. 404 é”™è¯¯ï¼šç«¯ç‚¹ä¸å­˜åœ¨
**ç—‡çŠ¶**: å‰ç«¯è°ƒç”¨è¿”å› 404 Not Found

**è¯Šæ–­æ­¥éª¤**:
```python
# åˆ›å»ºæµ‹è¯•è„šæœ¬
import requests
response = requests.post('http://localhost:5000/market-trade', 
                        json={'message': 'æµ‹è¯•'})
print(f"Status: {response.status_code}")
```

**å¸¸è§åŸå› **:
- æœåŠ¡å™¨é‡å¯åè·¯ç”±æœªæ­£ç¡®åŠ è½½
- æ—§ç‰ˆæœ¬æœåŠ¡å™¨ä»åœ¨è¿è¡Œ
- Flask è·¯ç”±å®šä¹‰é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
1. åœæ­¢æ‰€æœ‰ Python è¿›ç¨‹ï¼š`taskkill /F /IM python.exe`
2. é‡æ–°å¯åŠ¨æœåŠ¡å™¨ï¼š`python app.py`
3. éªŒè¯è·¯ç”±å®šä¹‰æ­£ç¡®

### 2. æµå¼å“åº”è¶…æ—¶
**ç—‡çŠ¶**: `HTTPConnectionPool: Read timed out`

**è§£å†³æ–¹æ¡ˆ**:
```typescript
// å‰ç«¯å¢åŠ è¶…æ—¶æ—¶é—´
const response = await fetch(url, {
    method: "POST",
    headers: {"Content-Type": "application/json"},
    body: JSON.stringify(data)
    // ä¸è®¾ç½® timeout æˆ–å¢åŠ è¶…æ—¶æ—¶é—´
});
```

**åç«¯ä¼˜åŒ–**:
- æ£€æŸ¥ Agent å¤„ç†æ€§èƒ½
- æ·»åŠ æ›´å¤šæ—¥å¿—è®°å½•ç‚¹
- ä¼˜åŒ– AI æ¨¡å‹è°ƒç”¨

## MCP å·¥å…·åŒ…é—®é¢˜

### 1. æ”¯ä»˜å® MCP è¶…æ—¶
**ç—‡çŠ¶**: `Timed out while waiting for response to ClientRequest`

**è§£å†³æ–¹æ¡ˆ**:
```json
// AgentCore/Mcp/alipay_server.json
{
  "mcpServers": {
    "alipay": {
      "command": "node",
      "args": ["node_modules/@alipay/mcp-server-alipay/build/index.js"],
      "clientRequestTimeout": 30000  // å¢åŠ åˆ°30ç§’
    }
  }
}
```

**ä¾èµ–å®‰è£…**:
```bash
npm install @alipay/mcp-server-alipay
# ç¡®ä¿æœ¬åœ°ä¾èµ–æ­£ç¡®å®‰è£…
```

### 2. MCP é…ç½®è·¯å¾„é”™è¯¯
**æ£€æŸ¥é…ç½®æ–‡ä»¶è·¯å¾„**:
```python
# åœ¨ AgentManager ä¸­éªŒè¯
config_path = os.path.join(os.path.dirname(__file__), "..", "Mcp", "alipay_server.json")
print(f"MCPé…ç½®è·¯å¾„: {os.path.abspath(config_path)}")
print(f"æ–‡ä»¶å­˜åœ¨: {os.path.exists(config_path)}")
```

## å‰ç«¯è¿æ¥é—®é¢˜

### 1. CORS é”™è¯¯
**ç—‡çŠ¶**: `Access to fetch blocked by CORS policy`

**è§£å†³æ–¹æ¡ˆ**:
```python
# åœ¨ app.py ä¸­ç¡®è®¤ CORS é…ç½®
from flask_cors import CORS
CORS(app)  # å…è®¸æ‰€æœ‰æ¥æº
```

### 2. å‰ç«¯æ— å“åº”æˆ–åŠ è½½é—®é¢˜
**è¯Šæ–­æ­¥éª¤**:
1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
2. éªŒè¯åç«¯æœåŠ¡å™¨è¿è¡ŒçŠ¶æ€
3. æµ‹è¯• API ç«¯ç‚¹ç›´æ¥è®¿é—®

**è§£å†³æ–¹æ¡ˆ**:
```bash
# é‡å¯å‰ç«¯æœåŠ¡
cd frontEnd
npm install  # é‡æ–°å®‰è£…ä¾èµ–
npm start    # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```

## åŒºå—é“¾é›†æˆé—®é¢˜

### 1. IoTeX ç½‘ç»œè¿æ¥å¤±è´¥
**æ£€æŸ¥ RPC ç«¯ç‚¹**:
```python
# æµ‹è¯• RPC è¿æ¥
import requests
response = requests.post('https://babel-api.testnet.iotex.one', 
                        json={"method": "eth_blockNumber", "params": [], "id": 1})
print(response.json())
```

### 2. ä»£å¸åˆçº¦äº¤äº’é”™è¯¯
**éªŒè¯åˆçº¦åœ°å€å’Œ ABI**:
- ç¡®è®¤ **PolyAgent Token åˆçº¦**: `0xD3286E20Ff71438D9f6969828F7218af4A375e2f`
- æ£€æŸ¥ç§é’¥å’Œåœ°å€æ ¼å¼
- éªŒè¯ç½‘ç»œ ID (4690 for IoTeX Testnet)

## æ—¥å¿—è°ƒè¯•æŠ€å·§

### 1. æ·»åŠ è°ƒè¯•è¾“å‡º
```python
# åœ¨å…³é”®ä½ç½®æ·»åŠ æ—¥å¿—
print(f"ğŸ” Debug: {variable_name} = {variable_value}")
print(f"ğŸ“ Checkpoint: Function {function_name} called")
```

### 2. Flask è°ƒè¯•æ¨¡å¼
```python
# åœ¨ app.py ä¸­å¯ç”¨è¯¦ç»†é”™è¯¯ä¿¡æ¯
app.run(host=config.FLASK_HOST, port=config.FLASK_PORT, debug=True)
```

### 3. é”™è¯¯è¿½è¸ª
```python
import traceback
try:
    # ä»£ç æ‰§è¡Œ
except Exception as e:
    print(f"âŒ é”™è¯¯è¯¦æƒ…: {e}")
    print(f"ğŸ“‹ è°ƒç”¨æ ˆ: {traceback.format_exc()}")
```

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. AI Agent å“åº”ä¼˜åŒ–
- å‡å°‘ç³»ç»Ÿæ¶ˆæ¯é•¿åº¦
- ä¼˜åŒ–å·¥å…·åŒ…è°ƒç”¨é¢‘ç‡
- ä½¿ç”¨å¼‚æ­¥å¤„ç†é¿å…é˜»å¡

### 2. å‰ç«¯æ€§èƒ½ä¼˜åŒ–
- å®ç°è™šæ‹Ÿæ»šåŠ¨ï¼ˆé•¿å¯¹è¯å†å²ï¼‰
- ä¼˜åŒ–æµå¼å“åº”å¤„ç†
- æ·»åŠ åŠ è½½çŠ¶æ€æŒ‡ç¤ºå™¨

### 3. å†…å­˜ç®¡ç†
- å®šæœŸæ¸…ç†å¯¹è¯å†å²
- é™åˆ¶å¹¶å‘ Agent å®ä¾‹æ•°é‡
- ç›‘æ§ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ
